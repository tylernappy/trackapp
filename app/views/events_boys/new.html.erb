    <h1><%= "Create new events for the boys for #{@meet.name}" %></h1>

    <table id="events-table">
      <tr>
        <th></th>
        <% @events.each do |event| %>
          <th><%= event %></th>
        <% end %>
      </tr>

      <% @events_boys.each do |event| %>
        <tr>
          <td><%= Athlete.find_by_id(event.athlete_id).name %></td>
          <%= form_for [@season, @meet, event], :remote => true, :html => { :mulitpart => true } do |f| %>
          
            <td><%= f.check_box :boys_400_m_im %></td>

            <td><%= f.check_box :boys_100_m %></td>

            <td><%= f.check_box :boys_1600_m  %></td>

            <td><%= f.check_box :boys_400_m  %></td>

            <td><%= f.check_box :boys_110_m_hh %></td>

            <td><%= f.check_box :boys_800_m %></td>

            <td><%= f.check_box :boys_3200_m  %></td>

            <td><%= f.check_box :boys_200_m  %></td>

            <%= f.hidden_field :athlete_id, :value => event.athlete_id %>

            <td style="visibility:hidden;"><%= f.submit "Submit", :class => 'btn' %></td>

          <% end %>
        </tr>
      <% end %>

    </table>

    <input type="button" class="btn btn-success btn-to-submit" value="Submit" onclick="submitForms()" />
    <%= link_to "See Lineup" ,season_meet_events_boys_path, :class => 'btn' %>

    <script type="text/javascript">
     submitForms = function() {
      var athletes = new Array();
      var arrayInAthletes = new Array();
      var buttons = new Array();
      element = document.getElementById("events-table");
      var athletesArray = element.children[0].children
      // for checking to see if not in more than three events
      for (i=1; i < athletesArray.length; i++) {
        var rowArray = athletesArray[i].children;
        arrayInAthletes = [];
        arrayInAthletes[0] = rowArray[0].innerText;
        var sum = 0;
        
        for (j=2; j < (rowArray.length-2); j++) {
          var checkBox = rowArray[j].children[1];
          if (checkBox.checked) {
            arrayInAthletes[sum+1] = rowArray[j].children[0].name;
            sum += 1;
          }
        }

        athletes[i-1] = arrayInAthletes;

      }
      // check for sum
      for (i=0; i<athletes.length; i++) {
        if (athletes[i].length > 4) {
          alert("One or more athletes is in too many events");
          return;
        }
      }

      // for submitting
      for (i=1; i < athletesArray.length; i++) {
        buttons.push(athletesArray[i].children[athletesArray[i].children.length-1].children[0]);
      }
      for (i=0; i<buttons.length; i++) {
        buttons[i].click();
      }
      document.getElementsByClassName('btn-to-submit')[0].style.display="none"
      // 

     }
    </script>



    <script type="text/javascript">
      var athletes = new Array();
      var arrayInAthletes = new Array();
      element = document.getElementById("events-table");
      var athletesArray = element.children[0].children
      for (i=1; i < athletesArray.length; i++) {
        var rowArray = athletesArray[i].children;
        arrayInAthletes = [];
        arrayInAthletes[0] = rowArray[0].innerText;
        var sum = 0;
        
        for (j=2; j < (rowArray.length-2); j++) {
          var checkBox = rowArray[j].children[1];
          if (checkBox.checked) {
            arrayInAthletes[sum+1] = rowArray[j].children[0].name;
            sum += 1;
          }
        }

        athletes[i-1] = arrayInAthletes;

      }
    </script>